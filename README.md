# 小六壬与八字排盘工具

## 简介
这是一个基于 Python 实现的中国传统术数工具，主要用于进行“小六壬”起课与“八字”排盘。项目提供了图形用户界面（GUI），方便用户输入时间进行测算。

## 功能特点
- **八字排盘**: 根据公历时间，精确计算生辰八字（年、月、日、时四柱）。
  - 月柱计算结合了`jieqi.py`模块，严格依据节气进行划分，保证了结果的准确性。
- **小六壬起课**:
  - 基于日上起时法进行排盘。
  - 自动推算六亲、六神、六星等信息。
  - 支持输入一个随机“变数”以增加占卜的灵活性。
- **图形用户界面**:
  - 使用`tkinter`构建，提供了直观的日期、时间选择器。
  - 支持“当前时辰”功能，可快速使用当前时间进行排盘。
  - 排盘结果以清晰的九宫格形式展现。
- **模块化设计**:
  - 各核心功能（如八字、节气计算）被封装在独立的模块中，便于维护与扩展。

## 界面截图

**时间选择界面:**
![时间选择界面](https://gitee.com/casual_pleat/x6ren/raw/master/eg/eg1.png)

**排盘结果展示:**
![排盘结果](https://gitee.com/casual_pleat/x6ren/raw/master/eg/eg2.png)

## 文件说明
- `users_x6ren.py`: **主程序**。包含图形用户界面，用于用户交互和展示小六壬排盘结果。
- `bazi.py`: **八字计算模块**。根据`pendulum`日期对象，结合节气计算四柱。
- `jieqi.py`: **节气计算模块**。使用`ephem`库计算二十四节气，为月柱的确定提供依据。
- `demo.py`: **命令行演示脚本**。用于在没有图形界面的环境下，展示核心排盘逻辑。
- `img/cons.ico`: 程序窗口的图标文件。

## 环境依赖
项目依赖以下 Python 库：
- `pendulum`
- `sxtwl`
- `ephem`
- `requests`
- `beautifulsoup4`

你可以通过 `requirements.txt` 文件来安装所有依赖。

## 使用方法
1.  **安装依赖**:
    打开终端或命令行，进入项目根目录，运行以下命令安装所有必需的库：
    ```bash
    pip install -r requirements.txt
    ```

2.  **运行程序**:
    执行 `users_x6ren.py` 文件以启动图形界面：
    ```bash
    python users_x6ren.py
    ```

3.  **操作**:
    - 在窗口中选择或输入年、月、日、时、分以及一个变数（整数）。
    - 点击“起课”按钮。
    - 或者直接点击“当前时辰”按钮，使用当前系统时间快速排盘。
    - 程序将弹出一个新窗口展示小六壬排盘结果。 